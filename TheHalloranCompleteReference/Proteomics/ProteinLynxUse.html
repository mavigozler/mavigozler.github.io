<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Waters/Micromass Mass Spectrometry Software:
ProteinLynx Global Server</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link href="/style/std.css" type="text/css" rel="stylesheet">
<style type="text/css">
 ul, ol {margin-bottom:0.5em;margin-left:0em;}
 li {margin-left:0;}
 ul ul { margin-bottom:0;margin-top:0;}
 ul {list-style-type:circle;}
 ul ul {list-style-type:disc;}
 ul ul ul {list-style-type:square;}
 ul ul ul ul {list-style-type:circle;}
 .figcaption {color:blue;font:bold 85% Verdana,Arial,Helvetica,sans-serif;}
 td { vertical-align:top; }
 .result {color:green;border:1px solid maroon;background:none;}
 #z1, #z2 {font:bold 1.2em Helvetica,Arial,sans-serif;color:green;}
 #ParentMass {font:bold 1.2em Verdana,Tahoma,Lucida,sans-serif;color:blue;}
 #ErrorReport {font:bold 90% 'Courier New',Courier,monospace;
 	border:none;background:none;text-align:center;
	scrollbar-3dlight-color:#f0fff0;
	scrollbar-arrow-color:#f0fff0;
	scrollbar-base-color:#f0fff0;
	scrollbar-darkshadow-color:#f0fff0;
	scrollbar-face-color:#f0fff0;
	scrollbar-highlight-color:#f0fff0;
	scrollbar-shadow-color:#f0fff0;
	scrollbar-track-color:#f0fff0;color:red ! important;}
	.numer {border-bottom:1px solid black;}
	.eqnserif TD {vertical-align:middle;}
	#pMassTbl, #pMassTbl TD {background:none;vertical-align:middle;}
</style>
<script type="text/javascript" src="/include/debug.js"></script>
</head>

<body onload="document.getElementById('ToF').reset();">
<p id="title">
Waters/Micromass Mass Spectrometry Software:  ProteinLynx Global Server

<p>
The user interface software is as complex as the machines/instruments
themselves, so a special section is necessary.
<p>
The <b>MassLynx</b> software operates the instruments, and is used to automate
sample processing.
<p>
The <b>ProteinLynx</b> software is both a client and server whose purpose is
to do the database searching to identify the possible protein candidates
based on the mass spectra (and other information) generated.  The client
actually runs on the host computer that operates the instruments, i.e.,
runs MassLynx software:  once MassLynx operations generate the data
files containing mass spectra and perhaps other information, it then
contacts a separate host (computer) that runs the ProteinLynx server.
The server takes requests from any client to do the database search.
The client only need format the request properly for the server, and then
the server goes to work.  There are many types of formatted requests,
largely because there are different kinds of information a client can
give to the database server to improve the success of the search.
A successful search (response or answer from the server to the client)
will not only give the protein that is truly being analyzed by the
mass spectrometer;  it will <em>only</em> give that protein as the identity
of the analyzed molecule.
<p>
Unfortunately results from the search are rarely that definitive.
More often, several results are presented, and each of them are <em>scored</em>
to indicate a likelihood of identity.  Ranked results are (or can be)
presented.  It is often the case that the results are too ambiguous or
unclear to make a positive identification.  In that case, it is possible
that the mass spectrometer can be used to generate more information (more
detail later).

<h1>The Network:  Server &amp; Client Fundamentals</h1>
<p>
The terms <b>client</b> and <b>server</b> come from the information
technology wizards.  They are popularly used because these engineers
developed the Internet based on that concept.  The Internet works
by <i>client</i> hosts (computers) sending properly formatted <i>requests</i>
to <i>server</i> hosts (computers), who send back properly formatted
<i>responses</i>.
<p>
It&rsquo;s important to get some of the terminology straight and
to talk about the connection between the
server program and client program.  Note that the
clients and servers are actually application software running on computers,
but often they are considered be the computer upon which they are running.
A computer on a network is also called a <b>host</b>.  And the network
itself is a system of servers and clients that can communicate with
each other.  Note that the network is a system of communicating servers
and clients:  it does not have to be a network of hosts (or physically
separate computers), but that is usually the case.  One can have several
servers and clients running on a single host, all talking with each other.
That can be a network, even though it is in only one physical computer.
<p>
Also a network does not imply anything about the location or the kind of
wiring between computers (or talking programs).  It only means that there
is a system of server and client programs that can communicate with each
other, should they choose to (at the action of their users usually).
<p>
Now about the connection between a client and a server.  The
connection is not like that of a telephone connection, where a caller
makes a call to the person being called, and establishes a <i>dedicated
virtual circuit</i> on the wires that form a telephone system
(a <i>public-switched telephone network</i>).
In that kind of connection no one can use the wires now made busy by
one person calling the other.
<p>
The connection between a client and server is rather made over
a <i>packet-switched network</i>.  The entire request of a client
and the usually extremely large response of the server is broken up
or rather fragmented into data <b>packets</b> and sent between client
and server over the network (or wires).  This actually allows Internet
users to share the same set of wires without tying them up in a dedicated
way like a phone.  The data packets assembled by the sender and contain
identifying information about the sender and the receiver (the to and from
destinations).  They also contain a checksum so that the integrity (errors)
can be analyzed in the received packets.  The protocol that sets the rules
for all this is called <b>Internet Protcol</b> (or IP).  There is a
separate protocol that controls the way server and client talk to each
other to start a connection (this is called <b>Transmission Control
Protocol</b> or TCP).  TCP also numbers the packets so that the receiving
application can re-assemble the packets in the order they should be
assembled.  The nature of the Internet is such that packets can be received
out of order (packets do not always take the same path of wires, but take
different paths based on traffic conditions).
<p>
The client
usually initiates the connection with the server.  The client has prior
information about the existence of a server and provides its operating
infrastructure with the necessary information to start a connection with
a server.  When the user types in
<b>http://www.some.server.somewhere.com/</b> in the URL or location address
field, the user is providing the client (its web page browser program)
with the information it will use to connect to the server.  The Internet
communicates with various protocols.  <i>H</i>yper<i>T</i>ext <i>T</i>ransfer
<i>P</i>rotocol, or HTTP, is the protocol defined by the Internet
engineers to ask a server&mdash;an HTTP server&mdash;to present all the
elements necessary to produce a web page.  The properly formatted
HTTP request usually asks for a document called a <b>web page</b> that
is formatted using a language called HTML (<i>H</i>yper<i>T</i>ext
<i>M</i>arkup <i>L</i>angugage).  If the web page HTML contains information
specifying images or other sorts of &ldquo;data objects&rdquo; (e.g.,
sound/music files, or little embedded applications or &ldquo;applets&rdquo;)
<p>
The ProteinLynx server runs on a separate computer from the computers that
run the mass spectrometers.  All of the computers involved are networked
to each other (through a hub or switch, devices used to make a network
of computers).  The MassLynx program runs a list of samples in an automated
way.  If the samples are on the MALDI-ToF, the list of samples is each
well in a 12 &times; 8 (96-well) target plate.  If the samples are to be
run on the Q-ToF, there is a CapLC system that is controlled and feeds
samples (directly, or first chromatographically) into an electrospray
source.  Once all data is collected from a single sample, MassLynx then
transfers the data to a ProteinLynx client running a wait mode on the
host.  MassLynx then continues to process the next sample.
<p>
Meanwhile, the ProteinLynx client, using the data supplied to it by
MassLynx program, organizes a request to a ProteinLynx server running
on another computer.  The request is sent to the server (using TCP/IP,
the same communication protocol used on the Internet).  The server
administers the database, and takes care of the details of doing the
database search.  The search is started, and the results are organized
by the server and sent back to the client.  The client then presents the
results to the user on the screen.
<p>
The reason the ProteinLynx server runs on another computer is because the
hardware is different.  The computers necessary for operating instruments
and the software that controls them can take &ldquo;ordinary&rdquo;
microprocessors and permanent storage devices (hard disks).  Thus
an Intel Pentium 4, although certainly fast and powerful, is sufficient
for running software that runs mass spectrometers, and the files generated
are small enough to fit on typically sized hard disks.
<p>
But database searching and storage usually requires much more powerful
computers in terms of both processing speed and data storage.  The
ProteinLynx server is run on a computer with an Intel Xeon processor set,
which is actually a set of processors run in parallel, and with the ability
to divide tasks among a set of microprocessors.  Database searching of
large datasets can be so time-consuming if ordinary processors are used.
It is the difference between a computer taking 10 minutes (with the Xeon
set) to give the final results versus 10 hours or even 10 days (if only a
single Pentium 4 is used).  Moreover, these databases can get quite large
and consume too much permanent storage (hard disks, CDs).  Thus the computer
is also built to provide the fastest hard and CD drives for reading
large segments of the database into memory for searching.  Databases records
themselves are also indexed in many ways to speed searching as well.

<h1>Setup/Installation of ProteinLynx</h1>
<p>
ProteinLynx has four components.
<ul>
<li>Microkernel
<li>Search Engine
<li>Processor
<li>ProteinLynx Browser
</ul>
<p>
On a single PC system (no Client/Server network of computers), all
four components must run on the PC.
<p>
With a client-server network system, the computer that runs the Server
must run:
<ul>
<li>Microkernel
<li>Search Engine
</ul>
<p>
and all clients must run:
<ul>
<li>Processor
<li>ProteinLynx Browser
</ul>
<p>
The Browser is actually a graphical user interface that controls the
interface to the databases (&ldquo;databanks&rdquo;) to be searched
as well as setting up the automated sample lists to be run on the
MassLynx instrument interface for the various mass spectrometers.


<h1>Database Parameters for ProteinLynx Searches</h1>
<p>
This is not going to be a complete detailed manual for using the
Waters ProteinLynx Global Server (PLGS).  Read the <b>ProteinLynx&trade;
Global <i>Server</i> Version 2.0 Software User's Guide</b> for the complete
understanding of this user interface.
<p>
PLGS runs in Windows in a complex fashion.  It is written in Java and
runs also in Linux/Unix (in Windows, it is installed in <b>C:\PLGS2</b>
and non-Windows systems in <b>/usr/local/PLGS2</b>).  At installation,
preferences are set for the search engine hostnames (127.0.0.1 is the
local host for databases on the same host as the server), the MS instruments
that generate the data (the default one for the client is the machine
it is connected to), and for bookmarks of useful sites.  See
<b>Options&rarr;Preferences</b> from the ProteinLynx browser main window.

<h1>Data Preparation Tool:  Processing Parameters Template</h1>
<p>
This Browser interface tool is used to configure the parameters for the
processing of raw mass spectra.  The options/selections available are
instrument-dependent.  Instrument dependence is determined when
the machine is set in the Instrument tab in Preferences under the Options menu.
<p>
In general processing of mass spectra involves in this order:
<ul>
<li>Mass Accuracy:  Lockmass correction (external or internal)
<li>Noise Reduction
 <ul>
 <li>Background Subtraction
 <li>Smoothing
 </ul>
<li>Deisotoping
<li>Centroiding
</ul>
<p>
For the ESI, spectral processing is different for MS (Electrospray Survey)
or MS/MS mode.  Tolerance (deviations from the true value) can differ
in default values (although they can be set).

<h2>Deisotoping</h2>
<p>
This reduces the isotope cluster to a single reported mass value.
If no deisotping is performed, the parameters for controlling the
smoothing filter become available for setting in the noise reduction
processing.
<p>
Deisotoping comes as three &ldquo;types&rdquo; in ProteinLynx:
<ul>
<li><b>Fast</b>.  This involves a simple centroiding of the peak
and then a rapid determination of the charge state and then deconvolution
(&ldquo;QToF Transform-like&rdquo;).  If the Fast type is set, there
is the option to set smoothing parameters.  Smoothing, centroiding,
then deisotoping and deconvolution are done.
<li><b>Medium</b>.  This processing evaluates the continuum signal
directly rather than smoothing the signal.  The continuum signal
is assessed for charge state and subsequent deconvolution.  The medium
setting is the default.
<li><b>Slow</b>.  Processing is performed by MaxEnt3, which iterates through
the data to refine it.  No smoothing filter is applied as this looks at
the continuum data.  The Slow type takes about 5 times longer to process
data than the Medium type.
</ul>
<p>
Generally, the choice is between Slow and Medium.  When throughput is
not high (time is not a factor), choose Slow, otherwise choose Medium.
There is little difference in the quality of Medium and Slow de-isotoping,
but Slow is about 5 &times; slower.

<h2>Choosing A Title</h2>
<p>
In naming the Processing Parameters Template in the Data Preparation Tool,
a recommended titling is to indicate the type of ionization (ESI or
MALDI), type of deisotoping, and whether a lockmass was indicated.
For example:  ESI_MEDIUM_LM

<h1>Workflow Designer Tool:  Workflow Template</h1>
<p>
This tool in the Browser controls all aspects of database searching.
It is used to determine the databases to be searched, the errors in
masses (tolerances), and the limits of the properties of a protein
(pI, MW, species, etc.) if these are known.

<p>
Consider a typical workflow:
<ol>
<li>The MS and MS/MS spectra are collected.  If MS spectra represent
a peptide mass fingerprint, one or more databases are searched.
<li>The results are then checked with AutoMod, which can make negative
results positive by re-doing the search based on several assumptions.
<li>For any peptides below a confidence level, MS/MS spectra
are <i>de novo</i> sequenced.
</ol>

<h2>Databank Search</h2>
<p>
A databank search is done either through the Container Manager
as a workflow template or through the tool Databank Search which
is a one-time search.  Through the Databank Search facility, you specify
<ul>
<li>the name of the XML or PKL file which contains the mass spectrum data
<li>the database (databank) to be searched, selected from a list
<li>the species, if known
<li>error (tolerance) in the measurement of the mass of the peptide
<li>the error (tolerance) in the mass measurement of MS/MS fragments;
this is encouraged because it reduces search times
<li>possible limitation of MW range of the parent protein:  if you know
the protein falls within a range from which the spot was cut, set that
<li>possible pI range of parent protein:  at least enter 3-10 if a pH 3-10
strip was used and the parent protein fell in the middle
<li>minimum peptides to match
<li>maximum hits to return:  only the top-scoring hits are returned
if more than the maximum are found
<li>primary digest reagent:  this is basically the protease used to
digest the parent protein into peptides for MS or MS/MS spectra (typically
trypsin)
<li>secondary digest reagent:  if a second protease was used to digest
the peptides following the first, then specify this
<li>missed cleavages
<li>fixed modifications
<li>variable modifications
</ul>

<h2>AutoMod Query</h2>
<p>
AutoMod (Automated Modification) is used to examine MS/MS data that
of previously identified proteins or ESTs.  It tries to match a peptide
to fragmentation data by considering nonspecific cleavages,
post-translational modifications, and amino acid substitutions.
It extends the Databank Search, that is the results of a database
search are used.  Low scorers are filtered out (removed from consideration)
<ul>
<li>Consider Modifications?  answer yes or no as to whether to consider
all sorts of modifications to side chains or terminal ends that can
affect the mass value
<li>Consider Substitutions? answer yes or no as to whether to consider
changes in the amino acid itself.
<li>Maximum Modfications/Substitutions Per Peptide:  The number of modifications
to consider for each peptide.
<li>Substitution Likelihood: a value from &minus;4 to 11 which indicates
the probability that any amino acid in the peptide is substituted.
</ul>
<p>
AutoMod will search peptides between 4 and 24 amino acids long.

<h1>Expression Analysis Tool</h1>
<p>
This tool should be selected when analyzing sample mixtures involving
ICATs (isotope-coded affinity tags) for quantifying expression in different
samples.  Proteins in various samples are treated (chemically modified)
with reagents which are known to differ by having different isotopes
the reagent moieties.  These are then analyzed as mixtures simultaneously
on the MS.
<p>
The Browser allows the selection of three types of experiments:
<ul>
<li><b>Targetted</b>
<li><b>Shotgun</b>.
<li><b>Advanced Shotgun</b>
</ul>

<h2>Targetted Analysis</h2>
<p>
Move through the steps to select the kind of Targetted analysis and
creation of a new experiment.
<p>
Select whether to create a new processed sample or existing sample.
If selecting an existing sample, a list of samples will be presented.
If selecting a new sample, a list of containers and positions will be
presented if an existing container/position is to be selected, or
the addition of a new vial is requested.
<p>
Once a sample and vial/container/position are determined, a parameter
list is presented for setting the values of certain attributes.  These
include changing the name from the default (&ldquo;Expression Analysis
#&lt;xx&gt;&rdquo; where #&lt;xx&gt; is a default sequence number).
The Sample 1 and 2 parameters allow setting of either the non-deuterated
modified cysteine or d8-deuterated cysteine.  The Start, End, and Step
times are used to determine when the analysis begins and ends in the
chromatogram, and the sampling frequency.

<h1>Results Browser</h1>
<p>
Results of the workflow processing are presented in a <b>Results
Summary</b> that is opened for a particular container from within
the Container Manager.  Select the container (vial, target plate, etc.)
and then click the right mouse button to get a popup menu that shows
the command to open the Results Summary.
<p>
The Results Summary is a table that lists the sample location (for
a target plate, it is row and column of a well on the plate),
the name of the highest scoring protein identified, and several
fields of information related to the identification of the protein.
<p>
More detailed information can be viewed for the sample location by
double-clicking the icon under the <b>View</b> column of the Results
Summary table.  Or alternatively, the well on a target plate image
in the Container Manager can be selected and a popup menu opened with
a right click to select the <b>View Results</b>.

<h2>Sample Result View</h2>
<p>
For a particular sample (well on target plate, or vial in LC block),
a new browser window opens to show at least three panes.  In the
upper left is the list of proteins which represent the top-scoring
hits from the database search, listed in order of scoring.
The identified protein typically is shown with its accession number
in parentheses and its long name taken from the database from which
it was searched (usually the database is SWISS-PROT).
<p>
In the upper right pane is the information regarding a selected protein
in the top-scoring hits pane.  This information includes:

<ul>
<li><b>Name</b>:  this is the official name of the database that was
searched, usually called the <i>accession name</i>.  For SWISS-PROT, this
name is typically of the form ALBU_HUMAN, or PROTEIN_SPECIES where the
protein and species has a unique abbreviation.
<li><b>Score</b>:  this is the MOWSE score
</ul>
<p>
FIND A WAY TO INCORPORATE TEXT BELOW INTO THE TEXT ABOVE



<!--  ===============================================================
               PROTEIN LYNX GLOBAL SERVER
      =============================================================== -->
<h2>Protein Lynx</h2>
<p>
ProteinLynx is software associated with MassLynx.  It is used to set up
sample lists for automated runs, and to determine all the parameters for
the database search used in protein identification.
<p>
There are two parts to using ProteinLynx.
<p>
One part involves installation,
in which the actions are done usually on a one-time basis to set up
the ProteinLynx.  This tells the software how to communicate with
other software or systems, either on the same computer or on a remote
computer (i.e., another host on a network, whether than network is local
or global, meaning the Internet).
<p>
The other part is the routine use of ProteinLynx, which involves setting
up the sample list automated runs, processing the data (mass spectra
information), and viewing the results.

<h3>General Design of the ProteinLynx System</h3>
<p>
The Protein Lynx is used to connect mass spectral data (generated by
the MassLynx software) with instructions for processing the mass spectral
data in order to identify the protein, which is the purpose of doing
the mass spectrometry.
<p>
These instructions for processing the data within Protein Lynx can be
rather complicated, depending on the MS instrument.  The ProteinLynx
creates these instructions within its interface through a series
of <i>tools</i>.  For example, the <b>Workflow Designer</b> is the tool selected
to create Workflow Templates.  The <b>Data Preparation</b> tool is selected
to create Processing Parameter Templates.  The Sample Manager is used
to define samples (provide information about samples), and this information
can then be &ldquo;attached&rdquo; or assigned to a well in which a sample
is spotted on a MALDI plate.
<p>
In using ProteinLynx, template files are usually created first, and then
attached to wells on a MALDI-MS plate, or to bottles on the ESI- (QToF-micro)
MS.  Once the mass spectral data is obtained, the processing of the data
and the search of the database can begin automatically, controlled by
the templates (instructions) attached to the well.
<p>
The creation of an automated sample list for the MALDI- and ESI-MS instruments
is done by using the ProteinLynx to define target plates within another
tool, the Container Manager tool, of the interface, selecting wells, and
then attaching the instructions to the well.  At a minimum, a Workflow
Template must be attached to a well.  It usually has enough information
to provide the specifications for the database search.  Additionally
a Processing Parameters Template is required if external lock mass
correction is used, if background substraction and smoothing (called
noise reduction) are specified, and if de-isotoping and centroiding
are to be specified.  Normally these are all done using defaults if
only the Workflow Template is attached.
<p>
One important point is how ProteinLynx organizes or stores these templates.
They are all stored in a single <b>.xml</b> file, and depending on the
tool being used (Data Preparation, Workflow Design, etc.), Protein Lynx
reads the XML file to get the part relevant to the particular use of
a tool.  So do not get confused about this.  Naming your XML file
is quite important.  It is best to include the name of your protein.
If you are using a variation on workflow or processing parameters, try
to think of a short descriptive phrase to include in the file name.

<h3>Installation</h3>
<p>
During installation from the setup EXE file, several requests of the user
may be made:
<ol>
<li>An attempt to detect an IP address is performed.
If multiple IP addresses are detected, a screen is shown in which
an IP address must be specified.
<li>PLGS can be installed as a service.  If the user selects <b>yes</b> to
enable the service, the <b>search engine</b> and <b>processor</b> will be run
automatically in the background.  Otherwise the search engine and processor
must be started only when the PLGS browser is opened.  This is the default
mode, and should be selected if PLGS is run on a single PC.
</ol>

<h4>Client/Server Installation</h4>
<p>
PLGS must be installed on each computer using it in a client-server 
configuration. The following modules need to be run:
<ul>
<li>microkernel
<li>search engine
<li>processor
</ul>

<h3>Acquisition Using Sample List</h3>
<p>
The Container Manager is the primary tool for creating target plates, defining 
wells in the target plate, and then attaching raw (mass spectrum) data to the 
wells.  If the data already exists, files with the mass spectral data are 
attached to the wells.  If it does not exist, all the instructions created in 
ProteinLynx will be exported to file that will be read (imported) by MassLynx, 
and MassLynx will automatically collect the data and send it to ProteinLynx for 
processing.
<p>
Within the Container Manager tree, are <b>nodes</b> representing <i>objects</i>. 
Target plates (for MALDI), Vials (for ESI-MS).  There are also <b>templates</b> 
such as Workflow Templates and Processing Parameter Templates. Target plates are 
composed of <b>well</b> objects or nodes.  A well is basically a sample. 
Information created by the Sample Manager can be attached to a well (sample).  A 
well object is created off the target plate node by selecting the well in the 
image of the target plate, using right mouse button click to get a popup menu, 
and then selecting <b>Set Sample</b>.  A well node is created off the target 
plate and a set of child nodes are created as well:  the mass spectrum data node 
and its attached node, the default Processing Parameters Template node. When a 
workflow template is attached, a new node appears under the mass spectrum data 
node that represents the workflow node.

<h4>MassLynx Tasks</h4>
<p>
Some things need to be done in MassLynx before setting up the automated sample 
list.

<ul>
<li><b>Make sure a project exists</b>.  To make a new project:
 <ol>
 <li>Open MassLynx
 <li>Select <b>File-&gt;New Project</b>.
 <li>Give the project a meaningful name, one that can be remembered, such
as the name of protein/peptide or of the hypothesis
 <li>Click <b>OK</b>.  The project becomes a directory with the name
entered followed by a <b>.PRO</b> suffix.  This directory contains
many organizational subfolders where data and information required by
MassLynx is stored.
 </ol>
<li>Create and save an MS Method (.exp) file.
</ul>

<ol>
<li>Open ProteinLynx browser.
<li>First create two kinds of template files for the samples:  one a Workflow 
Template, and the other a Processing Parameters Template. A Processing 
Parameters Template is created by default and attached to samples in target 
plates that are set, but it is wise to control the parameters as the defaults 
may not always be desired. <li>From within the Tool Tray in the left window 
frame, select the <b>Container Manager</b>.
<li>Click the New Project icon on the toolbar (looks like a document with an 
asterisk) <em>or</em> create the New Project from the <b>File</b> menu.
<li>Enter a project name and click OK.  Project names usually refer to
a protein, but there may be multiple projects for a protein, and multiple
users.  Use the best naming system.
<li>Go to <b>File-&gt;Save</b> or click the Save icon on the toolbar to save the 
project in its current state.
<li>In the Container manager frame, there is a Navigator Tree subframe to the 
left.  Within the Navigator Tree is folder icon with the name of the project to 
the right, and a tree of icons with the names <b>Vial</b>, <b>Microtiter 
Plates</b>, <b>Target Plates</b>, <b>Processing Parameter Templates</b>, and 
<b>Workflow Templates</b>. Select <b>Target Plates</b> and right-click to get a 
pop-up menu that has one choice:  <b>New Target Plate</b>
<li>A dialog box appears titled <b>New Container Tool</b>.  The container type 
<i>Target Plate</i> is already selected.  The target plate format is already 
entered.  For <b>Barcode</b>, enter in text that describes the target plate (the 
default text &ldquo;Barcode&rdquo; is not allowed). Click <b>OK</b>.
<li>At the bottom of the Navigator Tree subframe, the image of a 96-well
target plate will appear, with 24-lockmass near wells.  Each well
corresponds to a <i>sample</i>. Samples are <i>set</i> for being part of
an automated run list.  Click with the left mouse button one well that will
be part of the automated run.  The selected well changes color to black.
<li>Keep the mouse arrow tip inside the selected well, and click with
the <i>right</i> mouse button:  a large pop-up menu appears with many
choices.  Select <b>Set Sample</b> from the menu.
<li>A new dialog box appears titled <b>Select A Sample</b>.  There is
usually only one choice unless the Sample Manager has been used to define
a sample.  The choice is <b>Default</b>.  Click <b>OK</b>.  The color
of the well now becomes blue.  All wells blue in color are samples that
In addition, in the Navigator Tree, the well row and column (in a
&ldquo;Row,Column&rdquo; format)
have been <i>set</i> for database searches.
<li>Samples that have been set for database searching must have mass
spectral data attached to them.  The data might already have been collected
(already exists) and the file name can be attached to the sample.
Or the data might not have yet been obtained.  Branching off the
Row,Column selection is <b>Mass spectrum data not yet obtained</b>.
Select it and click the right mouse button to get a popup menu.
<li>If the raw data file is available, select <b>Set Raw Data File</b>
<li>If a raw data file is browsed and found, then a new node appears.
<li>Select it and click the right mouse button.  Select <b>Attach
Workflow Template</b>.
 <li>The <b>Workflow Templates</b> dialog now appears.  A workflow
template file must be selected.  The type of template must be a
&ldquo;DBSearch&rdquo;
 <li>Select the raw data spectum node again and click the right mouse
button.  The dialog box appears and <b>Process Raw Data</b> is available.
Select it.
 <li>The Protein Lynx data processing engines then begin the work of
doing the database search.  Results are displayed in the right hand frame
of the Container Manager.  As each well is processed, the color of the
well changes from blue to one of three other colors:
<ul>
<li><span style="color:green;">green</span>:
the well (sample) gave excellent high-scoring results (&ge; 95% confidence)
<li><span style="color:yellow;background-color:gray;">yellow</span>:
the well gave acceptable results with slight risk of a wrong identification
(confidence level &ge; 50%)
<li><span style="color:gold;">gold</span>: fair results, but the risk
of a wrong identification is significant (confidence level only &ge; 10%)
<li><span style="color:orange;">orange</span>: very poor (typically
unacceptable) results, with a confidence level only &ge; 0.1%
<li><span style="color:red;">red</span>:  the well gave unacceptable
results and a wrong identification, if any, is virtually certain
(confidence level &lt; 0.1%).
<li><span style="color:purple;">purple/violet</span> the confidence is
unknown and cannot be determined;  a repeat search with new process parameters
is probably indicated
<li><span style="color:blue;">blue</span>No processing (workflow, database
search) has been done for the well
<li><b>black</b>:  the well has only been selected, and no workflow template
or process parameters have been assigned to it
</ul>
When a result for a well indicates a risk of an incorrect identification
is unacceptably high (pretty much any color but green, although some
will accept yellow and gold results too), then either parameters should
be changed for re-processing
the search, or better raw data should be provided (meaning that a
new MALDI scan of the sample should be taken).
<p>
If results are not displayed, double-click on the WorkFlow node, and the
target plate appearance and the results at right will be updated.
</ol>


<h4>Exporting Sample Lists to MassLynx</h4>
<p>In order to get the MALDI to begin work on the target plate, the
sample list information created in ProteinLynx must be exported to
a file which is then imported by MassLynx.
<p>
This file is called an <b>.olb</b> file (meaning <b>O</b>pen<b>L</b>ynx
<b>b</b>atch) because it is a batch file that is formatted for reading
by the OpenLynx module.  A batch file is the type of file containing a
series of system commands that usually tell the system to perform a
task in a series of steps from start to finish.
<ol>
<li>Once all samples have been <i>set</i>, the sample list is exported
by clicking on the plate or vial node and selecting <b>Export Sample
List to MassLynx</b> from the popup menu.
<li>A dialog alert box provides information to the user about the number
of samples in the list, and other info too.  Click <b>OK</b>
<li>A dialog now appears that has the user select the MassLynx project
directory.  Click <b>Open</b> to open it.
<li>Once in the directory, a new dialog box called <b>Olb Producer</b>
appears.  An MS method (.exp) file must be selected for processing the
samples.  The user must also select a file name, and a data file name
which is a prefix for the mass spectrum data produced.  This is if the
instrument is a MALDI-MS.  If it is the QToF MS/MS, an inlet file method
must also be specified.  Click <b>Next&gt;</b> when done.
<li>From within MassLynx, the user selects <b>File-&gt;Open</b> to open
the project
<li>Now select <b>File-&gt;Import WorkSheet</b> to import the .OLB file.
<li>The sample list is updated within the MassLynx spreadsheet.
<li>Select the Run icon (right-pointing blue arrowhead) to begin the run.
<li>A <b>Start Sample List Run</b> dialog appears just as for a manually
entered list in MassLynx.  Make sure that <b>Acquire Sample Data</b>
and <b>Auto Process Samples</b> are checked.  Set other parameters as
necessary.
<li>Once <b>OK</b> is clicked, a Peptide AutoServer appears to
monitor the acquisition and the processing of data.  The
Search Engine, Processor, and Microkernel DOS windows also appear.
<li>Results can be viewed as they are processed from within ProteinLynx.
Click the update button (two opposing arrows icon) or choose
<b>File-&gt;Update Current Project</b> to see fully updated results.
</ol>



<h4>Selecting More Than One Well</h4>
<p>More than one well can be selected when setting the raw data file:

<ol>
<li>On the image of the target plate, click on a well and hold the left
mouse button down, and drag the mouse around the wells for which data
is to be imported.
<li>With the tip of the mouse arrow (cursor) inside the selected wells,
click the right mouse button to get a popup menu.  Select <b>Set
Raw Data</b> from the popup menu.
<li>A <b>Select Files</b> dialog window appears.  On the left side is
a pane probably containing folder icons with the names of the folders
on the right.  There is also a dropdown list showing the name of the current
folder, and in which one can up to the parent or ancestor folder.
Look for the files you want imported in the correct folder.  Select files
by clicking on them and then clicking the <b>Add</b> button between the
two panes.  The added files appear in the right pane.  To select multiple
files, a range of files can be selected by clicking the file that is
the start of the range, and while holding down the Shift key, clicking on the
file that is at the end of the range;  the range is selected, and the <b>Add</b>
button can be clicked to place all of them in the right pane.  Multiple
files can also be selected one at a time (if they do not occur in a range)
by holding down the Ctrl (Control) key and clicking on the file; they
can also be de-selected in the same way.   Note that there is a one-to-one
correspondence in row order between files in the right pane and the number of wells
selected on the target plate image:  the first file will correspond to
the first well, the second file to the second well in the row, and so on.
Once the end of a row of selected wells is reached, the next row of selected
wells is linked to the files.  If there are fewer files than selected wells,
then the linking will stop at the final file and the remaining wells
will be without linked files.  Excess selection of files will not be
permitted by the system:  if more files than necessary are selected, only
those that reach the maximum numbers of wells selected will be shown in the
right pane.
</ol>

<h4>Workflow Progress</h4>
<p>As workflow progresses in the ProteinLynx system, the icons will change
to indicate the status of the progress.

<h4>Add More Workflow Templates</h4>
<ol>
<li>Select the spectrum node associated with a well (position A1, for
example) on the target plate.
<li>With the cursor on the selected node, click the right mouse button
to get a popup menu, and select <b>Attach Workflow Template</b>.
<li>A dropdown list appears that in which current templates are listed
or new workflow templates can come from a file.  Select the
<b>new workflow template from file</b>.
<li>A node is created in the tree.  Click on it with the right mouse
button to get a popup menu.  Select the command <b>Start Workflow</b>.
<li>A dialog box appears within the folder where existing workflow
templates are stored.  Select one of the files, and then click <b>OK</b>.
<li>The workflow indicated within the selected workflow template file will then
process the data attached to the well.  A results node will appear
that can be clicked (with right mouse button) to produce a popup menu
that allows viewing of the results.
</ol>

<p>
[Put icons here to indicate status]

<h3>Set Up Processing Parameters</h3>
<p>[see Section 2.1.6 of the ProteinLynx Global Server Software User's Manual
for information].
<p>
The <b>Mass Spectrum</b> node of the Container Manager tree has a
<b>Processing Parameters Templates</b> node.  Processing parameters
can be added or edited by clicking on the Processing Parameters node
with the right mouse button to get a popup menu.
<ol>
<li>Click <b>Change Processing Parameters</b> in the popup menu.
<li>A dialog representing processing parameters templates appears
that is a dropdown list of templates.  One option is the default
option that already exists for the MS instrument.  Select <b>Choose
new processing parameters template from file</b> to indicate another
template.  (The template must be created with the Data Preparation tool.)
<li>A dialog box to select the XML file that contains the processing
parameters appears.  Find the XML file containing the information and
click <b>OK</b>.
</ol>

<h3>Importing/Exporting Mass Spectral Data</h3>

<h4>Exporting Spectra</h4>
<p>The spectrum in a Mass Spectrum node in Protein Lynx can be exported
to an XML file.  This might be useful in other software that can import
this information.

<ol>
<li>Click on the mass spectrum node of the sample node of the target
plate node of interest.  This selects the node.
<li>Click the right mouse button of the selected node while the mouse
cursor points to it, and a popup menu appears.  Select <b>Export Spectrum</b>.
If the <b>Export Spectrum</b> menu item does not appear, it means that the
mass spectrum data has not been processed.  This will be true for wells
colored black or blue on the image of the target plate, corresponding to
the sample.
<li>A dialog box appears for saving the XML file, whose name is to be
chosen.  Click <b>Save</b>.
</ol>

<h4>Importing Spectra</h4>
<p>If saved in the XML format that ProteinLynx exports out, then ProteinLynx
can import XML files created by other software.
<ol>
<li>On the node marked <b>Mass Spectrum data not yet obtained</b>,
click the right mouse button to get the popup menu, and select
<b>Import Mass Spectrum</b>.
<li>From the dialog box, find the correct XML file and click <b>Open</b>.
<li>The mass spectrum node should now indicate that processed data
is attached to it.
</ol>

<h4>The Target Plate and Microtiter Plate Nodes</h4>
<p>The objects in the Navigator Tree of the Container Manager that show
target and microtiter plates have special popup menus (revealed when
clicking the right mouse button on the object).  These popup menu
commands are the same for the two types of plates.

<ul>
<li><b>Select All</b>.  Select all wells on the plate.  All wells should
be colored black when selected, except those processed.
<li><b>View Results</b>.  A Results browser is opened, and showing results
for all wells of the plate.
<li><b>Merge Results</b>.  Results will be merged with those of other
plates to be selected.
<li><b>View Sample Information</b>.  Sample info for the plate is displayed
in the right pane.
<li><b>View Attached Templates</b>.  Choose the <b>Workflow Template</b>
or <b>Processing Template</b> to reveal relevant information.
<li><b>Set Sample</b>.  Starts the definition of a well on the target
plate, with default processing parameters.
<li><b>Set Attached Templates</b>.  The wells of the plate will be
assigned Workflow and Processing Parameters templates.
<li><b>Import Mass Spectrum</b>.  Attaches MS data in form of XML file
to well of plate.
<li><b>Set Raw Data File</b>.  Attach MS data in form of RAW file to
well of plate.
<li><b>Process</b>.  Allows selection from <b>Raw Data</b> or <b>Latest Data</b>.
<li><b>Plate Settings</b>.  Plate view customization.
</ul>

<h3>Database Installation</h3>

<h2>System:</h2>

<h3>Starting Up The M@LDI</h3>
<p>The following steps are taken, <em>in the order listed</em>,
to start the M@LDI:
<ol>
<li>Check all electrical connections and be sure that the voltage
is correct and the circuits properly grounded.  All electrically
powered components should be connected to an uninterrputible power
supply (UPS) that maintains at least 10 kilowatts power for
24-48 hours.  The following electrical connections should be
made:
 <ul>
 <li>Waters/Micromass M@LDI ToF MS to AC source
 <li>Rotary Pump to connector on rear of M@LDI
 <li>Embedded computer for M@LDI to AC source
 <li>Computer with MassLynx software installed to AC source
 </ul>
<li>Power on the computer with MassLynx software, and start MassLynx.
Open the Tune Page from the <b>Instruments</b> menu by selecting
</ol>

<h3>Shutting Down</h3>

<h3>Standby/Operate</h3>

<h2>Vacuum:</h2>
<h3>Monitoring and Maintaining Rotary Pump</h3>
<p>The rotary pump is a BOC Edwards model
<h3>Monitoring Vacuum Gauges</h3>
<p>From the Tune Page, select the <b>Monitor</b> command in the
<b>Vacuum</b> menu.  A window opens within the Tune Page that shows
three gauge facsimiles.  The red zones indicate the points at which
M@LDI will go into <b>Standby</b> mode.  The green zones indicate that the
M@LDI can be safely put into <b>Operate</b> mode.  The ToF Penning
shows the vacuum present in the flight tube tower; a high but operational
vacuum can severely affect resolution.
<h3>Effects of Vacuum Status</h3>
<p>Resolution of the mass spectral peaks is significantly affected by the
vacuum.  An operating vacuum below 1e&minus;6 mbar for the ToF Penning
is best.
<p>
Generally the vacuum takes a bit of time to recover after loading the
probe.  If resolution is critical, it is best to wait for at least 10-15
minutes after probe loading is completed before acquiring data.
<p>
The system will not be in <b>Operate</b> mode if the vacuum is not below
a certain level (usually 3-4e&minus;6 mbar in the ToF Penning).  This
is because arcing can occur in the flight tube tower at the voltages usually
set in the tube;  arcing can damage the system.

<h2>Electronics:</h2>
<h3>Rebooting PC and EPC</h3>
<h3>Resetting the Instrument</h3>

<h2>Inlet System:</h2>
<h3>Probe Error Messages</h3>

<h2>Software:</h2>
<p>The MassLynx user interface is run in Java within Windows.  The window
interface is standard, with a title bar (or banner), a menu bar,
a tool bar, and a status bar.  Within the client area of the window
is an information bar at the top, a sample list menu bar, a MassLynx
bar to the left, and sample list editor under the sample list menu bar.
The information bar usually shows the status of a sample currently being
acquired or processed.
<p>
The MassLynx bar is a set of tabs that contain:
<ul>
<li>Shortcut bar
<li>Queue bar
<li>Instrument Status bar
</ul>
<p>Under the <b>File</b> menu, the operator can
<ul>
<li>create new and open existing <b>projects</b>
<li>open existing data files (these are files of type <b>.raw</b> and
contain mass spectra, which may or may not be processed
<li>create new or open existing sample lists
</ul>


<h3>Login Accounts</h3>


<h3>Installing Software and Change Notes</h3>
<ol>
<li><strong>Important!</strong>  When installing or upgrading MassLynx
software, it is absolutely important to read the notes or guide on
installation to prepare the instrument and computers (PC and embedded PC)
for the software setup.  The instrument should be put on <b>Standby</b>
and probes unloaded.  It may be necessary to vent and power down the
MS instrument.  These can only be known by reading the directions.
<li>Software installation requires appropriate login privileges.  From
Windows NT or XP Professional, it is best to be logged in as Administrator.
<li>Insert the installation CD and the MassLynx will start a wizard
that guides through the installation process.
<li>Options will be presented that the installer should be aware of:
 <ul>
 <li>MassLynx Security:  select <b>Yes</b> for the option if security
is required.
 <li>Backup Scheduler:	this option allows files to be copied between
locations without invalidating security attached to them.
 </ul>
</ol>
<h4>Special Libraries</h4>
<p>MassLynx includes several optional libraries that might be of interest.
<ol>
<li>Insert the MassLynx install CD.
<li>Select Start&mdash;&gt;Run.  Enter the <i>drive</i><b>:\setup</b>
in the Command Line where <i>drive</i> is the letter used to designate
the CD-ROM where the CD is installed.  (Alternatively, the <b>Browse...</b>
button can be used to find the setup file on the CD.)  Select <b>OK</b>.
<li>A dialog box appears that allows selection of <b>Library</b> and
<b>Structures</b> options.  Select them and then indicate <b>OK</b>.
<li>The operator is asked to indicate the location (directory) for
installation, the default being where MassLynx is installed.  The system
may have to be re-started after installation.
</ol>
<p>The SWISSPROT database is also available on CD and can be installed
separately.
<h4>Self-Repair</h4>
<p>MassLynx has the ability to detect corrupt or deleted components, and will
prompt the user to do certain activities, including placing in the install
CD into a drive.  The operator can also initiate actions if MassLynx
is not working correctly and does not auto-repair.  Insert the install CD
into a drive and the wizard is automatically invoked:  select the
<b>Next&gt;</b> and call <b>Program Maintenance</b> to select the <b>Repair</b>
option, then select <b>Next&gt;</b>.  Continue to follow instructions.

<h3>Instrument-Specific Files and Parameters</h3>

<h2>Network Connections:</h2>
<h3>IP addressing</h3>
<h3>Serial connection</h3>

<h2>Original Performance</h2>
<p>All values given below are the values produced by the Waters/Micromass
Engineer who installed the M@LDI-ToF and who performed the specification.
They also indicate the minimal level of performance expected from the
M@LDI-ToF by the manufacturer, but this level of performance can exceed
that necessary to perform useful work.

<h3>Linear mode</h3>
<h4>Resolution</h4>
<p>Linear mode resolution should be &ge;1000, measured as the peak width
at half height divided by the <i>m/z</i> value of any given <i>m/z</i> peak
within the effective linear mode <i>m/z</i> range (usually <i>m/z</i> values
&gt; 10,000).
<p>
The M@LDI when installed new was determined by its installation engineer
to have a resolution of:
<ul>
<li>Positive Mode:  cytochrome c [MH<sup>+</sup> = 12361.1]  resolution = 1019
<li>Negative Mode:  cytochrome c (M-H)<sup>&minus;</sup> = 12359.1  rez = 1032
</ul>

<h4>Mass Accuracy</h4>
<ul>
<li>external calib &lt; 300 ppm for trypsinogen (MH<sup>+</sup> 23981.9)
from 5 different wells using 6th well for calibration
<br>    173.923 ppm
<li>internal calib &lt; 200 ppm for myoglobin (MH<sup>+</sup> 16952.5)
from 5 wells with Trypsinogen and Cyt C as internals
</ul>

<h4>Sensitivity</h4>
<ul>
<li>Positive mode:  10 fmol Glu-Fib (MH<sup>+</sup> 1571)
must produce &gt; 5:1 signal-to-noise (S/N)
<li>Negative mode:  50 fmol Glu-Fib (M-H)<sup>&minus;</sup> 1569
must produce &gt; 5:1 S/N
</ul>

<h3>Reflectron mode</h3>
<h4>Resolution</h4>
<p>Reflectron mode resolution should be &ge; 10,000 for standard
peptides measured in the <i>m/z</i> 1000-4000 range in both ion modes.
<ul>
<li>Positive mode:   ACTH (MH<sup>+</sup> = 2456.199)  resolution = 10,407
<li>Negative mode:   ACTH (M-H)<sup>&minus;</sup> 2454.191   rez = 10,064
</ul>

<h4>Mass Accuracy</h4>
<ul>
<li>external calib &lt; 50 ppm for renin substrate (MH<sup>+</sup> 1758.934)
from 5 different wells single lockmass correction from ref data
obtained from different wells
<br>30.7 ppm
<li>internal calib &lt; 10 ppm for renin substrate
from 5 wells with ACTH as internal lockmass correction peak
</ul>

<h4>Sensitivity</h4>
<ul>
<li>Positive mode:  1 fmol Glu-Fib (MH<sup>+</sup> 1571) must produce
&gt; 5:1 S/N
<li>Negative mode: 10 fmol Glu-Fib (M-H)<sup>&minus;</sup> 1569 must
&gt; 5:1 S/N
</ul>

<h3>Peptide Mass Fingerprinting Test</h3>
<p>The M@LDI-ToF must also identify a protein from its proteolytic digest.
Alcohol dehydrogenase (ADH) must be digested with trypsin and 24 wells
loaded, with at least 20 wells identified, and each well loaded at
50 fmol of peptides.





</body>
</html>

